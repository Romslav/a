<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ –¢–ï–°–¢ –õ–æ—è–ª—å–Ω–æ—Å—Ç—å –†–µ—Å—Ç–æ—Ä–∞–Ω</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        /* –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
        .test-panel {
            position: fixed; top: 10px; right: 10px; background: rgba(0,255,0,0.9);
            color: white; padding: 15px; border-radius: 12px; font-family: monospace;
            font-size: 12px; z-index: 10000; max-width: 300px; backdrop-filter: blur(10px);
        }
        .test-item { margin: 5px 0; padding: 5px; background: rgba(255,255,255,0.2); border-radius: 6px; }
        .status-ok { color: #4CAF50; }
        .status-wait { color: #FF9800; }
        .status-error { color: #f44336; }
    </style>
</head>
<body>
    <!-- –¢–ï–°–¢–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
    <div id="testPanel" class="test-panel" style="display:none;">
        <div class="test-item"><strong>üß™ –°–¢–ê–¢–£–° –¢–ï–°–¢–ê:</strong></div>
        <div id="testResults"></div>
        <button onclick="runFullTest()" style="width:100%;padding:8px;margin-top:10px;background:#4CAF50;color:white;border:none;border-radius:6px;cursor:pointer;">üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç</button>
    </div>

    <!-- Preloader -->
    <div id="preloader" class="preloader">
        <div class="spinner"></div>
        <p>üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ...</p>
    </div>

    <!-- Navbar -->
    <nav class="navbar">
        <img src="icons/menu.svg" id="menuBtn" class="nav-icon" alt="–ú–µ–Ω—é" width="24" height="24" onclick="testMenu()">
        <h2 id="pageTitle">üß™ –¢–µ—Å—Ç –õ–æ—è–ª—å–Ω–æ—Å—Ç—å</h2>
        <img src="icons/menu.svg" id="notifBtn" class="nav-icon" alt="–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è" width="24" height="24" onclick="testNotifications()">
    </nav>

    <!-- –¢–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è —Ç–µ—Å—Ç–∞ -->
    <main>
        <div id="dashboardScreen" class="screen active">
            <div class="profile-header">
                <div class="avatar" id="userAvatar">üë§</div>
                <div class="profile-info">
                    <h1 id="userName">–ó–∞–≥—Ä—É–∑–∫–∞...</h1>
                    <div class="status-badge" id="statusBadge">üß™ –¢–µ—Å—Ç</div>
                </div>
            </div>

            <div class="balance-card">
                <div class="balance-value" id="balanceValue">1,240</div>
                <div class="balance-label">–±–∞–ª–ª–æ–≤ = <span id="rublesValue">1,240‚ÇΩ</span></div>
                <div class="progress-container">
                    <div class="progress-label">
                        –î–æ <span id="nextLevelName">–°–µ—Ä–µ–±—Ä–∞</span>: <span id="nextLevelPoints">760</span> –±–∞–ª–ª–æ–≤
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width:40%"></div>
                    </div>
                </div>
            </div>

            <div class="quick-actions">
                <button class="action-btn primary" onclick="testCheckin()">
                    <img src="icons/camera.svg" class="action-icon" alt="–ö–∞–º–µ—Ä–∞" width="20" height="20"/>
                    <span>üß™ –¢–µ—Å—Ç: –ù–∞—á–∏—Å–ª–∏—Ç—å</span>
                </button>
                <button class="action-btn secondary" onclick="testSpend()">
                    <img src="icons/wallet.svg" class="action-icon" alt="–ö–æ—à–µ–ª–µ–∫" width="20" height="20"/>
                    <span>üß™ –¢–µ—Å—Ç: –ü–æ—Ç—Ä–∞—Ç–∏—Ç—å</span>
                </button>
                <button class="action-btn accent" onclick="testQR()">
                    <img src="icons/card.svg" class="action-icon" alt="–ö–∞—Ä—Ç–∞" width="20" height="20"/>
                    <span>üß™ –¢–µ—Å—Ç: QR</span>
                </button>
            </div>

            <div style="background:#4CAF50;color:white;padding:20px;border-radius:16px;text-align:center;margin:20px;">
                <h3>‚úÖ –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç—É –∫–∞—Ä—Ç–æ—á–∫—É = –í–°–ï –†–ê–ë–û–¢–ê–ï–¢!</h3>
                <p><strong>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:</strong></p>
                <ul style="text-align:left;">
                    <li>‚úÖ –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è SVG –∏–∫–æ–Ω–∫–∏</li>
                    <li>‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–µ–ª–æ–∞–¥–µ—Ä</li>
                    <li>‚úÖ –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –ø–ª–∞–≤–Ω–∞—è</li>
                    <li>‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å —ç–∫—Ä–∞–Ω–∞</li>
                </ul>
            </div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <button class="nav-item active" onclick="testNav('dashboard')">
            <img src="icons/home.svg" class="nav-icon-svg" alt="–ì–ª–∞–≤–Ω–∞—è" width="24" height="24"/>
            <div>–ì–ª–∞–≤–Ω–∞—è</div>
        </button>
        <button class="nav-item" onclick="testNav('promos')">
            <img src="icons/gift.svg" class="nav-icon-svg" alt="–ê–∫—Ü–∏–∏" width="24" height="24"/>
            <div>–ê–∫—Ü–∏–∏</div>
        </button>
        <button class="nav-item" onclick="testNav('qr-card')">
            <img src="icons/card.svg" class="nav-icon-svg" alt="–ö–∞—Ä—Ç–∞" width="24" height="24"/>
            <div>–ö–∞—Ä—Ç–∞</div>
        </button>
        <button class="nav-item" onclick="testNav('history')">
            <img src="icons/history.svg" class="nav-icon-svg" alt="–ò—Å—Ç–æ—Ä–∏—è" width="24" height="24"/>
            <div>–ò—Å—Ç–æ—Ä–∏—è</div>
        </button>
        <button class="nav-item" onclick="testNav('profile')">
            <img src="icons/profile.svg" class="nav-icon-svg" alt="–ü—Ä–æ—Ñ–∏–ª—å" width="24" height="24"/>
            <div>–ü—Ä–æ—Ñ–∏–ª—å</div>
        </button>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        window.testMenu = () => alert('‚úÖ –ú–ï–ù–Æ –†–ê–ë–û–¢–ê–ï–¢!');
        window.testNotifications = () => alert('‚úÖ –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø –†–ê–ë–û–¢–ê–Æ–¢!');
        window.testCheckin = () => alert('‚úÖ –ù–ê–ß–ò–°–õ–ï–ù–ò–ï –†–ê–ë–û–¢–ê–ï–¢!');
        window.testSpend = () => alert('‚úÖ –°–ü–ò–°–ê–ù–ò–ï –†–ê–ë–û–¢–ê–ï–¢!');
        window.testQR = () => alert('‚úÖ QR –†–ê–ë–û–¢–ê–ï–¢!');
        
        window.testNav = (nav) => {
            alert(`‚úÖ –ù–ê–í–ò–ì–ê–¶–ò–Ø: ${nav.toUpperCase()}`);
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            event.target.closest('.nav-item').classList.add('active');
        };

        // –ê–≤—Ç–æ—Ç–µ—Å—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.runFullTest = function() {
            const tests = document.getElementById('testResults');
            let results = [];
            
            // –¢–µ—Å—Ç 1: SVG –∏–∫–æ–Ω–∫–∏
            const icons = document.querySelectorAll('img[src*="icons/"]');
            results.push(`–ò–∫–æ–Ω–∫–∏: ${icons.length > 0 ? '<span class="status-ok">‚úÖ OK</span>' : '<span class="status-error">‚ùå FAIL</span>'}`);
            
            // –¢–µ—Å—Ç 2: CSS —Å—Ç–∏–ª–∏
            const balanceCard = document.querySelector('.balance-card');
            results.push(`–°—Ç–∏–ª–∏ CSS: ${balanceCard ? '<span class="status-ok">‚úÖ OK</span>' : '<span class="status-error">‚ùå FAIL</span>'}`);
            
            // –¢–µ—Å—Ç 3: Telegram WebApp
            const tg = window.Telegram?.WebApp;
            results.push(`Telegram API: ${tg ? '<span class="status-ok">‚úÖ OK</span>' : '<span class="status-wait">‚ö†Ô∏è –ù–µ—Ç (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞)'}`);
            
            // –¢–µ—Å—Ç 4: Responsive
            results.push(`–≠–∫—Ä–∞–Ω: ${window.innerWidth}px ${window.innerHeight}px ‚úÖ`);
            
            tests.innerHTML = results.join('<br>');
            document.getElementById('testPanel').style.display = 'block';
        };

        // –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                document.getElementById('preloader').style.display = 'none';
                runFullTest();
            }, 2000);
        });
    </script>
</body>
</html>
