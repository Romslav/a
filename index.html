<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ Demo: –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        .demo-overlay { 
            position: fixed; top: 0; left: 0; right: 0; bottom: 0; 
            background: rgba(0,0,0,0.95); z-index: 10000; 
            display: flex; align-items: center; justify-content: center; 
        }
        .demo-step { 
            background: white; border-radius: 24px; padding: 40px; 
            max-width: 450px; text-align: center; 
            box-shadow: 0 30px 60px rgba(0,0,0,0.3);
        }
        .demo-step h2 { 
            color: #4CAF50; margin-bottom: 20px; font-size: 28px; font-weight: 700;
        }
        .demo-step-image { 
            width: 90px; height: 90px; 
            background: linear-gradient(135deg, #4CAF50, #667eea); 
            border-radius: 24px; margin: 0 auto 25px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 40px;
        }
        .demo-step p { 
            color: #333; line-height: 1.8; margin-bottom: 30px; font-size: 16px;
        }
        .demo-nav { 
            display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;
        }
        .demo-btn { 
            padding: 14px 28px; border: none; border-radius: 12px; 
            font-weight: 600; cursor: pointer; transition: all 0.3s; 
            min-width: 100px; font-size: 15px;
        }
        .demo-next { 
            background: linear-gradient(135deg, #4CAF50, #45a049); 
            color: white;
        }
        .demo-next:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(76,175,80,0.3); }
        .demo-back { 
            background: #f8f9fa; color: #666; border: 1px solid #e0e0e0;
        }
        .demo-skip { 
            background: transparent; color: #999; font-size: 14px; 
            text-decoration: underline; cursor: pointer; padding: 0;
        }
        .demo-skip:hover { color: #666; }
        .progress-bar { 
            height: 5px; background: #e0e0e0; border-radius: 3px; 
            margin-bottom: 25px; overflow: hidden;
        }
        .progress-fill { 
            height: 100%; background: linear-gradient(90deg, #4CAF50, #667eea); 
            transition: width 0.5s ease; border-radius: 3px;
        }
        .code-block {
            background: #f5f5f5; padding: 10px; border-radius: 8px; 
            font-family: monospace; font-size: 13px; color: #333;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <!-- Demo Tour Overlay -->
    <div id="demoOverlay" class="demo-overlay">
        <div class="demo-step">
            <div class="progress-bar"><div class="progress-fill" id="tourProgress" style="width:0%"></div></div>
            <div id="tourContent"></div>
            <div class="demo-nav">
                <button class="demo-btn demo-back" id="prevBtn" onclick="window.demoTour.prev()" style="display:none;">‚Üê –ù–∞–∑–∞–¥</button>
                <button class="demo-btn demo-next" id="nextBtn" onclick="window.demoTour.next()">–î–∞–ª–µ–µ ‚Üí</button>
                <button class="demo-btn demo-skip" id="skipBtn" onclick="window.demoTour.skip()">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div id="preloader" class="preloader">
        <div class="spinner"></div>
        <p>–ó–∞–≥—Ä—É–∂–∞–µ–º –ª–æ—è–ª—å–Ω–æ—Å—Ç—å...</p>
    </div>

    <nav class="navbar">
        <img src="icons/menu.svg" id="menuBtn" class="nav-icon" alt="–ú–µ–Ω—é" width="24" height="24">
        <h2 id="pageTitle">–õ–æ—è–ª—å–Ω–æ—Å—Ç—å</h2>
        <img src="icons/bell.svg" id="notifBtn" class="nav-icon" alt="–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è" width="24" height="24">
    </nav>

    <main id="mainContent">
        <!-- üè† –ì–õ–ê–í–ù–ê–Ø -->
        <div id="dashboardScreen" class="screen active" data-nav="dashboard">
            <div class="profile-header">
                <div class="avatar" id="userAvatar">üë§</div>
                <div class="profile-info">
                    <h1 id="userName">–ó–∞–≥—Ä—É–∑–∫–∞...</h1>
                    <div class="status-badge" id="statusBadge">ü•â –ë—Ä–æ–Ω–∑–∞ ‚Ä¢ 5%</div>
                    <div class="user-id" id="userId">ID: –ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>
            </div>

            <div class="balance-card">
                <div class="balance-row">
                    <div class="balance-main">
                        <div class="balance-value" id="balanceValue">500</div>
                        <div class="balance-label">–¥–æ—Å—Ç—É–ø–Ω–æ = <span id="rublesValue">500‚ÇΩ</span></div>
                    </div>
                    <div class="burn-warning" id="burnWarning"></div>
                </div>
                
                <div class="level-card" id="levelCard">
                    <div class="level-icon">ü•â</div>
                    <div class="level-info">
                        <div class="level-name">–ë—Ä–æ–Ω–∑–∞</div>
                        <div class="level-rate">5% –±–æ–Ω—É—Å–æ–≤ –æ—Ç —á–µ–∫–∞</div>
                    </div>
                    <div class="level-progress">
                        <div class="progress-small">
                            <div class="progress-fill-small" id="levelProgressFill" style="width: 45%"></div>
                        </div>
                        <div class="progress-label-small" id="levelProgressLabel">ü•à –°–µ—Ä–µ–±—Ä–æ ‚Ä¢ 55,000‚ÇΩ</div>
                    </div>
                </div>
            </div>

            <div class="quick-actions">
                <button class="action-btn primary" onclick="window.loyaltyApp.showScreen('qrCardScreen')">
                    <img src="icons/card.svg" class="action-icon" alt="–ö–∞—Ä—Ç–∞" width="20" height="20"/>
                    <span>ü™™ –ú–æ—è –∫–∞—Ä—Ç–∞</span>
                </button>
                <button class="action-btn secondary" onclick="window.loyaltyApp.showScreen('familyScreen')">
                    <img src="icons/profile.svg" class="action-icon" alt="–°–µ–º—å—è" width="20" height="20"/>
                    <span>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –°–µ–º—å—è</span>
                </button>
                <button class="action-btn accent" onclick="window.loyaltyApp.showScreen('burnScreen')">
                    <img src="icons/history.svg" class="action-icon" alt="–°–≥–æ—Ä–∞–Ω–∏–µ" width="20" height="20"/>
                    <span>‚è≥ –°–≥–æ—Ä–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤</span>
                </button>
            </div>
        </div>

        <!-- ü™™ –ö–ê–†–¢–ê -->
        <div id="qrCardScreen" class="screen" data-nav="qr-card">
            <div class="card-header">
                <h3>ü™™ –ö–∞—Ä—Ç–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</h3>
                <div class="status-large" id="statusLarge">ü•â –ë—Ä–æ–Ω–∑–∞ ‚Ä¢ 5%</div>
            </div>
            <div class="qr-container">
                <canvas id="loyaltyQR" class="qr-code-xl" width="280" height="280"></canvas>
                <div class="qr-codes">
                    <div class="qr-code-display" id="qrCodeDisplay">QR: ABC-123-DEF-456</div>
                    <div class="short-code-large" id="shortCodeDisplay">123456</div>
                </div>
                <div class="qr-hint">–ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Å—Å–∏—Ä—É. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏!</div>
            </div>
            <div class="card-id">
                TG ID: <strong id="cardTgId">12345</strong><br>
                –¢–µ–ª–µ—Ñ–æ–Ω: <strong id="cardPhone">+7 (999) 123-45-67</strong>
            </div>
        </div>

        <!-- üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –°–ï–ú–¨–Ø -->
        <div id="familyScreen" class="screen" data-nav="family">
            <div class="section-header">
                <h3>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è —Å–µ–º—å–∏</h3>
                <p>+1000 –±–∞–ª–ª–æ–≤ –∑–∞ 3 –¥–Ω—è –¥–æ ‚Üí —Å–≥–æ—Ä–∞—é—Ç —á–µ—Ä–µ–∑ 3 –¥–Ω—è –ø–æ—Å–ª–µ</p>
            </div>
            <div class="family-grid" id="familyList">
                <div class="family-card">
                    <div style="display: flex; align-items: center;">
                        <div class="family-avatar">–ò</div>
                        <div>
                            <h4>–ò–≤–∞–Ω (–≤—ã)</h4>
                            <div class="family-birthday">15 –º–∞—è</div>
                        </div>
                    </div>
                    <div class="family-status">‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ</div>
                </div>
                <div class="family-card">
                    <div style="display: flex; align-items: center;">
                        <div class="family-avatar">–ú</div>
                        <div>
                            <h4>–ú–∞—Ä–∏—è (–∂–µ–Ω–∞)</h4>
                            <div class="family-birthday">20 –∞–≤–≥—É—Å—Ç–∞</div>
                        </div>
                    </div>
                    <div class="family-status">‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ</div>
                </div>
                <div class="family-card">
                    <div style="display: flex; align-items: center;">
                        <div class="family-avatar">–°</div>
                        <div>
                            <h4>–°—ã–Ω</h4>
                            <div class="family-birthday">25 –∏—é–ª—è</div>
                        </div>
                    </div>
                    <div class="family-status">‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ</div>
                </div>
            </div>
        </div>

        <!-- ‚è≥ –°–ì–û–†–ê–ù–ò–ï -->
        <div id="burnScreen" class="screen" data-nav="burn">
            <div class="section-header">
                <h3>‚è≥ –ë–∞–ª–ª—ã –∫ —Å–≥–æ—Ä–∞–Ω–∏—é</h3>
                <p>–°–ø–∏—Å–æ–∫ –±–∞–ª–ª–æ–≤ —Å –¥–∞—Ç–∞–º–∏ –∏—Å—Ç–µ—á–µ–Ω–∏—è</p>
            </div>
            <div class="burn-list" id="burnList">
                <div class="burn-item">
                    <div>
                        <div class="burn-amount">+500</div>
                        <div class="burn-date">–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ</div>
                    </div>
                    <div class="burn-days normal">‚è≥ 14 –¥–Ω–µ–π</div>
                </div>
            </div>
        </div>

        <!-- üìä –ò–°–¢–û–†–ò–Ø -->
        <div id="historyScreen" class="screen" data-nav="history">
            <div class="section-header">
                <h3>üìä –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h3>
            </div>
            <div class="history-list" id="historyList">
                <div style="text-align:center;padding:40px;color:#666;">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</div>
            </div>
        </div>
    </main>

    <div class="bottom-nav">
        <button class="nav-item active" data-nav="dashboard">
            <img src="icons/home.svg" class="nav-icon-svg" alt="–ì–ª–∞–≤–Ω–∞—è" width="24" height="24"/>
            <div>–ì–ª–∞–≤–Ω–∞—è</div>
        </button>
        <button class="nav-item" data-nav="qr-card">
            <img src="icons/card.svg" class="nav-icon-svg" alt="–ö–∞—Ä—Ç–∞" width="24" height="24"/>
            <div>–ö–∞—Ä—Ç–∞</div>
        </button>
        <button class="nav-item" data-nav="family">
            <img src="icons/profile.svg" class="nav-icon-svg" alt="–°–µ–º—å—è" width="24" height="24"/>
            <div>–°–µ–º—å—è</div>
        </button>
        <button class="nav-item" data-nav="burn">
            <img src="icons/history.svg" class="nav-icon-svg" alt="–°–≥–æ—Ä–∞–Ω–∏–µ" width="24" height="24"/>
            <div>–°–≥–æ—Ä–∞–Ω–∏–µ</div>
        </button>
        <button class="nav-item" data-nav="history">
            <img src="icons/history.svg" class="nav-icon-svg" alt="–ò—Å—Ç–æ—Ä–∏—è" width="24" height="24"/>
            <div>–ò—Å—Ç–æ—Ä–∏—è</div>
        </button>
    </div>

    <!-- SCRIPTS -->
    <script src="mock-api.js"></script>
    <script src="app.js"></script>

    <script>
        // ‚úÖ DEMO TOUR - –ü–û–õ–ù–´–ô –ü–£–¢–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
        window.demoTour = {
            step: 0,
            isRunning: true,
            
            steps: [
                {
                    title: "üéâ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!",
                    image: "üì±",
                    content: `–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑:<br>
                    <strong>t.me/RestoranBot/app?startapp=loyalty</strong><br><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ Telegram ID</span><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ 500 –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è (—Å–≥–æ—Ä–∞—é—Ç 14 –¥–Ω–µ–π)</span><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ –£—Ä–æ–≤–µ–Ω—å ü•â –ë—Ä–æ–Ω–∑–∞ 5%</span>`
                },
                {
                    title: "üí≥ –°—Ç–∞—Ä—Ç–æ–≤—ã–π –±–∞–ª–∞–Ω—Å",
                    image: "üí∞", 
                    content: `–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:<br><br>
                    <strong>500 –±–∞–ª–ª–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ</strong><br>
                    <strong>45,000‚ÇΩ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ</strong><br>
                    <strong>–î–æ –°–µ—Ä–µ–±—Ä–∞: 55,000‚ÇΩ</strong><br><br>
                    <div class="code-block">[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÅ‚ñÅ] 45% –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</div>
                    
                    <span style="color:#ff9800; font-weight: 600;">‚ö†Ô∏è 500 –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è —Å–≥–æ—Ä—è—Ç —á–µ—Ä–µ–∑ 14 –¥–Ω–µ–π</span>`
                },
                {
                    title: "ü™™ –ö–∞—Ä—Ç–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏",
                    image: "üñºÔ∏è",
                    content: `–≠–∫—Ä–∞–Ω "–ú–æ—è –∫–∞—Ä—Ç–∞" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:<br><br>
                    <div class="code-block">QR: ABC-123-DEF-456<br>–ö–æ–¥: 123456</div>
                    
                    <strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Å—Å–∏—Ä—É</strong><br><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏</span>`
                },
                {
                    title: "üçΩÔ∏è –ü–µ—Ä–≤—ã–π —á–µ–∫: 2,000‚ÇΩ",
                    image: "üìà",
                    content: `–ö–∞—Å—Å–∏—Ä —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR –∫–æ–¥<br><br>
                    <strong>–°—É–º–º–∞ —á–µ–∫–∞: 2,000‚ÇΩ</strong><br>
                    <strong>ü•â –ë—Ä–æ–Ω–∑–∞: 2,000 √ó 5% = +100 –±–∞–ª–ª–æ–≤</strong><br><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ –ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: 600 –±–∞–ª–ª–æ–≤</span><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ QR –∫–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ –Ω–æ–≤—ã–π</span><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å: 47,000‚ÇΩ (53k –¥–æ –°–µ—Ä–µ–±—Ä–∞)</span>`
                },
                {
                    title: "üçΩÔ∏è –ï—â–µ 5 —á–µ–∫–æ–≤ –ø–æ 15,000‚ÇΩ",
                    image: "üî•",
                    content: `5 –≤–∏–∑–∏—Ç–æ–≤ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω √ó 15,000‚ÇΩ<br><br>
                    <strong>5 √ó 15,000 = 75,000‚ÇΩ</strong><br>
                    <strong>5 √ó 750 –±–∞–ª–ª–æ–≤ = 3,750 –±–∞–ª–ª–æ–≤</strong><br><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ –ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: 4,350 –±–∞–ª–ª–æ–≤</span><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ –í—Å–µ–≥–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ: 122,000‚ÇΩ</span><br>
                    <span style="color:#ff6b6b; font-weight: 600;">üéâ –ü–ï–†–ï–•–û–î –ù–ê –°–ï–†–ï–ë–†–û!</span>`
                },
                {
                    title: "ü•à –£—Ä–æ–≤–µ–Ω—å –°–µ—Ä–µ–±—Ä–æ!",
                    image: "ü•à",
                    content: `–ü–æ—Å–ª–µ 100,000‚ÇΩ —Ç—Ä–∞—Ç:<br><br>
                    <strong>ü•à –°–µ—Ä–µ–±—Ä–æ ‚Ä¢ 7% –±–æ–Ω—É—Å–æ–≤</strong><br>
                    <strong>[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÅ‚ñÅ] 22% –¥–æ –ó–æ–ª–æ—Ç–∞</strong><br>
                    <strong>–î–æ –ó–æ–ª–æ—Ç–∞: 378,000‚ÇΩ</strong><br><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ –ß–µ–∫ 2,000‚ÇΩ —Ç–µ–ø–µ—Ä—å ‚Üí +140 –±–∞–ª–ª–æ–≤ (–±—ã–ª–æ +100)</span><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ –ù–æ–≤—ã–π QR –∫–æ–¥</span>`
                },
                {
                    title: "üéÇ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —Å–µ–º—å–∏",
                    image: "üë®‚Äçüë©‚Äçüëß",
                    content: `–≠–∫—Ä–∞–Ω "–°–µ–º—å—è":<br><br>
                    <strong>3 —á–ª–µ–Ω–∞ —Å–µ–º—å–∏</strong><br>
                    <strong>–ó–∞ 3 –¥–Ω—è –î–û ‚Üí +1,000 –±–∞–ª–ª–æ–≤ –∫–∞–∂–¥–æ–º—É</strong><br>
                    <strong>–°–≥–æ—Ä–∞—é—Ç —á–µ—Ä–µ–∑ 3 –¥–Ω—è –ü–û–°–õ–ï</strong><br><br>
                    <div class="code-block">–ò–≤–∞–Ω (–≤—ã): 15 –º–∞—è ‚è≥<br>
                    –ú–∞—Ä–∏—è (–∂–µ–Ω–∞): 20 –∞–≤–≥—É—Å—Ç–∞ ‚è≥<br>
                    –°—ã–Ω: 25 –∏—é–ª—è ‚è≥</div>
                    
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ +3,000 –±–∞–ª–ª–æ–≤ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∏–∑–∞—Ü–∏–∏</span>`
                },
                {
                    title: "‚è≥ –°–≥–æ—Ä–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤",
                    image: "‚è∞",
                    content: `–≠–∫—Ä–∞–Ω "–°–≥–æ—Ä–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤":<br><br>
                    <strong>500 –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è ‚Üí ‚ö†Ô∏è 7 –¥–Ω–µ–π (–∫—Ä–∞—Å–Ω—ã–π)</strong><br>
                    <strong>1000 –î–† —Å—ã–Ω–∞ ‚Üí üü° 45 –¥–Ω–µ–π (–∂–µ–ª—Ç—ã–π)</strong><br>
                    <strong>3500 —á–µ–∫–æ–≤ ‚Üí üü¢ 89 –¥–Ω–µ–π (–∑–µ–ª–µ–Ω—ã–π)</strong><br><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ –í–∏–¥–Ω—ã –≤—Å–µ –±–∞–ª–ª—ã —Å —Ç–∞–π–º–µ—Ä–∞–º–∏</span><br>
                    <span style="color:#ff9800; font-weight: 600;">‚ö†Ô∏è –°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ —Å–≥–æ—Ä–∞–Ω–∏–∏</span>`
                },
                {
                    title: "üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–º",
                    image: "üîÑ",
                    content: `MainButton: "üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å"<br><br>
                    <strong>–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑ iiko/R-Keeper:</strong><br>
                    ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å<br>
                    ‚úÖ –ù–æ–≤—ã–π QR –∫–æ–¥<br>
                    ‚úÖ –ù–æ–≤—ã–π 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥<br>
                    ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π<br><br>
                    <span style="color:#4CAF50; font-weight: 600;">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å! ‚Üì</span>`
                },
                {
                    title: "üí≥ –ú–∞–∫—Å–∏–º—É–º 20% –æ—Ç —á–µ–∫–∞",
                    image: "üí∞",
                    content: `–ü—Ä–∏ –æ–ø–ª–∞—Ç–µ –±–∞–ª–ª–∞–º–∏:<br><br>
                    <strong>–ß–µ–∫: 5,000‚ÇΩ</strong><br>
                    <strong>Max —Å–ø–∏—Å–∞–Ω–∏–µ: 5,000 √ó 20% = 1,000 –±–∞–ª–ª–æ–≤</strong><br>
                    <strong>–ò—Ç–æ–≥ –∫ –æ–ø–ª–∞—Ç–µ: 4,000‚ÇΩ + 1,000 –±–∞–ª–ª–æ–≤</strong><br><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞—â–∏—â–∞–µ—Ç –¥–æ—Ö–æ–¥ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</span><br>
                    <span style="color:#4CAF50; font-weight: 600;">‚úÖ –ö–ª–∏–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ –ø–ª–∞—Ç–∏—Ç 80% –¥–µ–Ω–µ–≥</span>`
                },
                {
                    title: "üöÄ –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£!",
                    image: "üéâ",
                    content: `–°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é:<br><br>
                    ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Telegram ID<br>
                    ‚úÖ 500 –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è + —Å–≥–æ—Ä–∞–Ω–∏–µ 14 –¥–Ω–µ–π<br>
                    ‚úÖ –£—Ä–æ–≤–Ω–∏: 100k‚ÇΩ (–°–µ—Ä–µ–±—Ä–æ) / 500k‚ÇΩ (–ó–æ–ª–æ—Ç–æ)<br>
                    ‚úÖ –®–∫–∞–ª–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π<br>
                    ‚úÖ QR + 6-–∫–æ–¥ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è<br>
                    ‚úÖ +1000 –±–∞–ª–ª–æ–≤ –î–† —Å–µ–º—å–∏<br>
                    ‚úÖ –°–≥–æ—Ä–∞–Ω–∏–µ 3 –º–µ—Å / –î–† / –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è<br>
                    ‚úÖ Max 20% —Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç —á–µ–∫–∞<br>
                    ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ iiko/R-Keeper<br><br>
                    <strong style="color:#4CAF50; font-size: 18px;">–ù–∞–∂–º–∏—Ç–µ "–ó–∞–≤–µ—Ä—à–∏—Ç—å" –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!</strong>`
                }
            ],

            showStep(index) {
                this.step = index;
                const step = this.steps[index];
                document.getElementById('tourContent').innerHTML = `
                    <div class="demo-step-image">${step.image}</div>
                    <h2>${step.title}</h2>
                    <p>${step.content}</p>
                `;
                document.getElementById('tourProgress').style.width = ((index + 1) / this.steps.length * 100) + '%';
                document.getElementById('prevBtn').style.display = index > 0 ? 'inline-block' : 'none';
                document.getElementById('nextBtn').textContent = index === this.steps.length - 1 ? '‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å!' : '‚Üí –î–∞–ª–µ–µ';
            },

            next() {
                if (this.step < this.steps.length - 1) {
                    this.showStep(this.step + 1);
                } else {
                    this.finish();
                }
            },

            prev() {
                if (this.step > 0) {
                    this.showStep(this.step - 1);
                }
            },

            skip() {
                this.finish();
            },

            finish() {
                document.getElementById('demoOverlay').style.display = 'none';
                this.isRunning = false;
                
                if (loyaltyApp) {
                    document.getElementById('preloader').style.display = 'none';
                    loyaltyApp.renderAll();
                }
            }
        };

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.querySelectorAll('.bottom-nav .nav-item').forEach(btn => {
            btn.onclick = (e) => {
                if (window.demoTour.isRunning) return;
                
                const navId = e.currentTarget.dataset.nav;
                document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
                document.querySelectorAll('.bottom-nav .nav-item').forEach(n => n.classList.remove('active'));
                
                document.getElementById(navId + 'Screen')?.classList.add('active');
                e.currentTarget.classList.add('active');
            };
        });

        // –°—Ç–∞—Ä—Ç –¥–µ–º–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                document.getElementById('preloader').style.display = 'none';
                window.demoTour.showStep(0);
            }, 800);
        });
    </script>
</body>
</html>
