<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ Demo: –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Demo Tour —Å—Ç–∏–ª–∏ */
        .demo-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.95); z-index: 10000; display: flex; align-items: center; justify-content: center; }
        .demo-step { background: white; border-radius: 24px; padding: 40px; max-width: 400px; text-align: center; max-height: 90vh; overflow-y: auto; }
        .demo-step h2 { color: #4CAF50; margin-bottom: 20px; font-size: 24px; }
        .demo-step-image { width: 80px; height: 80px; background: linear-gradient(135deg, #4CAF50, #667eea); border-radius: 20px; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 32px; }
        .demo-step p { color: #333; line-height: 1.6; margin-bottom: 25px; }
        .demo-nav { display: flex; gap: 15px; justify-content: center; }
        .demo-btn { padding: 15px 25px; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s; min-width: 120px; }
        .demo-next { background: linear-gradient(135deg, #4CAF50, #45a049); color: white; }
        .demo-back { background: #f8f9fa; color: #666; }
        .demo-skip { background: transparent; color: #999; font-size: 14px; text-decoration: underline; }
        .progress-bar { height: 4px; background: #e0e0e0; border-radius: 2px; margin-bottom: 20px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #4CAF50, #667eea); transition: width 0.5s; border-radius: 2px; }
    </style>
</head>
<body>
    <!-- Demo Tour Overlay -->
    <div id="demoOverlay" class="demo-overlay" style="display:none;">
        <div class="demo-step">
            <div class="progress-bar"><div class="progress-fill" id="tourProgress" style="width:0%"></div></div>
            <div id="tourContent"></div>
            <div class="demo-nav">
                <button class="demo-btn demo-back" id="prevBtn" onclick="demoTour.prev()" style="display:none;">–ù–∞–∑–∞–¥</button>
                <button class="demo-btn demo-next" id="nextBtn" onclick="demoTour.next()">–î–∞–ª–µ–µ</button>
                <button class="demo-skip" onclick="demoTour.skip()">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç—É—Ä</button>
            </div>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Å–∫—Ä—ã—Ç–æ) -->
    <div id="appContent" style="display:none;">
        <!-- –í–µ—Å—å index.html –∫–æ–Ω—Ç–µ–Ω—Ç —Å—é–¥–∞ -->
        <div id="preloader" class="preloader" style="display:none;">
            <div class="spinner"></div><p>–ó–∞–≥—Ä—É–∂–∞–µ–º –ª–æ—è–ª—å–Ω–æ—Å—Ç—å...</p>
        </div>
        <!-- ... –æ—Å—Ç–∞–ª—å–Ω–æ–π HTML –∏–∑ index.html ... -->
    </div>

    <script src="mock-api.js"></script>
    <script src="app.js"></script>
    <script>
        // ‚úÖ Demo Tour ‚Äî –ü–û–õ–ù–´–ô –ü–£–¢–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
        const demoTour = {
            step: 0,
            steps: [
                {
                    title: "üéâ –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –≤ Telegram –±–æ—Ç–µ",
                    image: "üì±",
                    content: `–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ:<br>
                    <strong>t.me/RestoranBot/app?startapp=loyalty</strong><br><br>
                    <span style="color:#4CAF50">‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ Telegram ID</span><br>
                    <span style="color:#4CAF50">‚úÖ 500 –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤ (14 –¥–Ω–µ–π)</span>`
                },
                {
                    title: "üí∞ –°—Ç–∞—Ä—Ç–æ–≤—ã–π –±–∞–ª–∞–Ω—Å",
                    image: "üí≥", 
                    content: `–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏:<br><br>
                    <strong>ü•â –ë—Ä–æ–Ω–∑–∞ ‚Ä¢ 5%</strong><br>
                    <strong>500 –±–∞–ª–ª–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ</strong><br>
                    <strong>45,000‚ÇΩ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ (75% –¥–æ –°–µ—Ä–µ–±—Ä–∞)</strong><br><br>
                    <span style="color:#4CAF50">‚ö†Ô∏è 500 –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è —Å–≥–æ—Ä—è—Ç —á–µ—Ä–µ–∑ 14 –¥–Ω–µ–π</span>`
                },
                {
                    title: "ü™™ –ö–∞—Ä—Ç–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏",
                    image: "üñºÔ∏è",
                    content: `–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ú–æ—è –∫–∞—Ä—Ç–∞":<br><br>
                    <strong>–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Å—Å–∏—Ä—É:</strong><br>
                    ‚Ä¢ QR-–∫–æ–¥ —Å TG ID<br>
                    ‚Ä¢ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥: <code>123456</code><br>
                    ‚Ä¢ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏<br><br>
                    <span style="color:#4CAF50">‚úÖ –ö–∞—Å—Å–∏—Ä —Å–∫–∞–Ω–∏—Ä—É–µ—Ç ‚Üí –Ω–∞—á–∏—Å–ª—è–µ—Ç/—Å–ø–∏—Å—ã–≤–∞–µ—Ç</span>`
                },
                {
                    title: "üçΩÔ∏è –í —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ ‚Äî –ß–µ–∫ 2,000‚ÇΩ",
                    image: "üìà",
                    content: `–ö–∞—Å—Å–∏—Ä —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR ‚Üí —á–µ–∫ 2,000‚ÇΩ<br><br>
                    <strong>ü•â –ë—Ä–æ–Ω–∑–∞ 5%:</strong><br>
                    <code>2,000‚ÇΩ √ó 5% = +100 –±–∞–ª–ª–æ–≤</code><br><br>
                    <strong>–ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: 600 –±–∞–ª–ª–æ–≤</strong><br>
                    <strong>QR + –∫–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω—ã!</strong><br><br>
                    <span style="color:#4CAF50">‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å: 47,000‚ÇΩ (–¥–æ –°–µ—Ä–µ–±—Ä–∞: 53k‚ÇΩ)</span>`
                },
                {
                    title: "üéÇ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —Å–µ–º—å–∏",
                    image: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶",
                    content: `–ó–∞ 3 –¥–Ω—è –î–û –î–†:<br><br>
                    <strong>3 —á–ª–µ–Ω–∞ —Å–µ–º—å–∏ √ó 1000 –±–∞–ª–ª–æ–≤ = +3,000‚ÇΩ</strong><br>
                    <strong>–°–≥–æ—Ä–∞—é—Ç —á–µ—Ä–µ–∑ 3 –¥–Ω—è –ü–û–°–õ–ï –î–†</strong><br><br>
                    <span style="color:#4CAF50">‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ</span>`
                },
                {
                    title: "üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–º",
                    image: "üîÑ",
                    content: `MainButton "üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å":<br><br>
                    <strong>‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ iiko/R-Keeper</strong><br>
                    <strong>‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç –±–∞–ª–∞–Ω—Å, —É—Ä–æ–≤–Ω–∏, QR</strong><br>
                    <strong>‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å —Ç—Ä–∞—Ç</strong><br><br>
                    <span style="color:#4CAF50">üëÜ –ù–∞–∂–º–∏—Ç–µ –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏!</span>`
                },
                {
                    title: "ü•à –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –°–µ—Ä–µ–±—Ä–æ!",
                    image: "ü•à",
                    content: `–ü–æ—Å–ª–µ 100,000‚Ç™ —Ç—Ä–∞—Ç:<br><br>
                    <strong>ü•à –°–µ—Ä–µ–±—Ä–æ ‚Ä¢ 7% –±–æ–Ω—É—Å–æ–≤</strong><br>
                    <strong>[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% –ø—Ä–æ–≥—Ä–µ—Å—Å</strong><br>
                    <strong>–î–æ –ó–æ–ª–æ—Ç–∞: 400,000‚ÇΩ</strong><br><br>
                    <span style="color:#4CAF50">üéâ –ß–µ–∫ 2,000‚ÇΩ ‚Üí +140 –±–∞–ª–ª–æ–≤ (–±—ã–ª–æ +100)</span>`
                },
                {
                    title: "‚è≥ –°–≥–æ—Ä–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤",
                    image: "‚è≥",
                    content: `–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:<br><br>
                    <strong>‚ö†Ô∏è 500 –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è ‚Üí 7 –¥–Ω–µ–π</strong><br>
                    <strong>üî¥ 1000 –î–† ‚Üí —Å–≥–æ—Ä–µ–ª–∏</strong><br>
                    <strong>üü¢ 600 —á–µ–∫ ‚Üí 89 –¥–Ω–µ–π</strong><br><br>
                    <span style="color:#4CAF50">‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω —Å —Ç–∞–π–º–µ—Ä–∞–º–∏</span>`
                },
                {
                    title: "üéØ –ò–¢–û–ì ‚Äî –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞!",
                    image: "üöÄ",
                    content: `–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç:<br><br>
                    ‚úÖ <strong>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Telegram ID</strong><br>
                    ‚úÖ <strong>500 –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è + –î–† —Å–µ–º—å–∏</strong><br>
                    ‚úÖ <strong>–£—Ä–æ–≤–Ω–∏ 100k‚ÇΩ/500k‚ÇΩ + —à–∫–∞–ª–∞</strong><br>
                    ‚úÖ <strong>QR + 6-–∫–æ–¥ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)</strong><br>
                    ‚úÖ <strong>–°–≥–æ—Ä–∞–Ω–∏–µ 3–º–µ—Å/14–¥–Ω–µ–π/–î–†</strong><br>
                    ‚úÖ <strong>20% max —Å–ø–∏—Å–∞–Ω–∏–µ</strong><br>
                    ‚úÖ <strong>iiko/R-Keeper ready</strong><br><br>
                    <span style="color:#4CAF50">üéâ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!</span>`
                }
            ],

            start() {
                document.getElementById('demoOverlay').style.display = 'flex';
                this.showStep(0);
            },

            showStep(index) {
                this.step = index;
                const step = this.steps[index];
                document.getElementById('tourContent').innerHTML = `
                    <div class="demo-step-image">${step.image}</div>
                    <h2>${step.title}</h2>
                    <p>${step.content}</p>
                `;
                document.getElementById('tourProgress').style.width = ((index + 1) / this.steps.length * 100) + '%';
                document.getElementById('prevBtn').style.display = index > 0 ? 'inline-block' : 'none';
                document.getElementById('nextBtn').textContent = index === this.steps.length - 1 ? '–ó–∞–≤–µ—Ä—à–∏—Ç—å!' : '–î–∞–ª–µ–µ';
            },

            next() {
                if (this.step < this.steps.length - 1) {
                    this.showStep(this.step + 1);
                } else {
                    this.finish();
                }
            },

            prev() {
                if (this.step > 0) {
                    this.showStep(this.step - 1);
                }
            },

            skip() {
                document.getElementById('demoOverlay').style.display = 'none';
                document.getElementById('appContent').style.display = 'block';
                loyaltyApp?.renderAll();
            },

            finish() {
                document.getElementById('demoOverlay').style.display = 'none';
                document.getElementById('appContent').style.display = 'block';
                document.getElementById('preloader').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('preloader').style.display = 'none';
                    loyaltyApp?.renderAll();
                    // –°–∏–º—É–ª—è—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞
                    setTimeout(() => loyaltyApp.tg?.showAlert?.('üéâ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!
500 –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ!'), 500);
                }, 2000);
            }
        };

        // –ó–∞–ø—É—Å–∫ –¥–µ–º–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => demoTour.start(), 1000);
        });

        // –í—Å—Ç–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.getElementById('appContent').innerHTML = document.querySelector('main').outerHTML + document.querySelector('.navbar').outerHTML + document.querySelector('.bottom-nav').outerHTML;
    </script>
</body>
</html>
